paths:
  /events:
    get:
      summary: Get all events (paginated)
      tags:
        - Events
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 5
      responses:
        '200':
          description: List of events
          content:
            application/json:
              example:
                data:
                  - id: "25fe0a78-08f4-4348-a872-a1b6a6b57783"
                    name: "Event"
                    startDate: "2025-07-15T10:00:00.000Z"
                    endDate: "2025-07-15T14:00:00.000Z"
                    createdDate: "2025-06-18T12:50:40.969Z"
                    updatedDate: "2025-06-18T12:50:40.969Z"
                    place: "123 Boulevard Voltaire"
                    maxNumberOfParticipants: 25
                    description: "Event description"
                    author:
                      id: "1"
                      firstname: "Johnny"
                      lastname: "Doe"
                      email: "user@example.com"
                      password: "$2b$10$u71m0c00UZBL5u9gnaaE5umWCatSON2tj.TJVh6Vtdd0SbVYFvYdu"
                      dateOfBirth: "2000-12-09T23:00:00.000Z"
                      profilePicture: ""
                      points: 0
                      role: "admin"
                      permissions: []
                    participantsList: []
                total: 1
                page: 1
                lastPage: 1
    post:
      summary: Create a new event
      tags:
        - Events
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: './components.yaml#/components/schemas/CreateEventDTO'
      responses:
        '201':
          description: Successfully created the event
          content:
            application/json:
              example:
                id: "25fe0a78-08f4-4348-a872-a1b6a6b57783"
                name: "Event"
                startDate: "2025-07-15T10:00:00.000Z"
                endDate: "2025-07-15T14:00:00.000Z"
                createdDate: "2025-06-18T12:50:40.969Z"
                updatedDate: "2025-06-18T12:50:40.969Z"
                place: "123 Boulevard Voltaire"
                maxNumberOfParticipants: 25
                description: "Event description"
                author:
                  id: "1"
                  firstname: "Johnny"
                  lastname: "Doe"
                  email: "user@example.com"
                  password: "$2b$10$u71m0c00UZBL5u9gnaaE5umWCatSON2tj.TJVh6Vtdd0SbVYFvYdu"
                  dateOfBirth: "2000-12-09T23:00:00.000Z"
                  profilePicture: ""
                  points: 0
                  role: "admin"
                  permissions: []
                participantsList: []

  /events/{id}:
    get:
      summary: Get an event by ID
      tags:
        - Events
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Event found
          content:
            application/json:
              example:
                id: "25fe0a78-08f4-4348-a872-a1b6a6b57783"
                name: "Event"
                startDate: "2025-07-15T10:00:00.000Z"
                endDate: "2025-07-15T14:00:00.000Z"
                createdDate: "2025-06-18T12:50:40.969Z"
                updatedDate: "2025-06-18T12:50:40.969Z"
                place: "123 Boulevard Voltaire"
                maxNumberOfParticipants: 25
                description: "Event description"
                author:
                  id: "1"
                  firstname: "Johnny"
                  lastname: "Doe"
                  email: "user@example.com"
                  password: "$2b$10$u71m0c00UZBL5u9gnaaE5umWCatSON2tj.TJVh6Vtdd0SbVYFvYdu"
                  dateOfBirth: "2000-12-09T23:00:00.000Z"
                  profilePicture: ""
                  points: 0
                  role: "admin"
                  permissions: []
                participantsList: []

    patch:
      summary: Update an event
      tags:
        - Events
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: './components.yaml#/components/schemas/UpdateEventDTO'
      responses:
        '200':
          description: Event updated successfully
          content:
            application/json:
              example:
                id: "25fe0a78-08f4-4348-a872-a1b6a6b57783"
                name: "Updated Event"
                startDate: "2025-07-15T10:00:00.000Z"
                endDate: "2025-07-15T14:00:00.000Z"
                createdDate: "2025-06-18T12:50:40.969Z"
                updatedDate: "2025-06-18T12:56:31.560Z"
                place: "123 Boulevard Voltaire"
                maxNumberOfParticipants: 30
                description: "New event description"
                author:
                  id: "1"
                  firstname: "Johnny"
                  lastname: "Doe"
                  email: "user@example.com"
                  password: "$2b$10$u71m0c00UZBL5u9gnaaE5umWCatSON2tj.TJVh6Vtdd0SbVYFvYdu"
                  dateOfBirth: "2000-12-09T23:00:00.000Z"
                  profilePicture: ""
                  points: 0
                  role: "admin"
                  permissions: []

    delete:
      summary: Delete an event
      tags:
        - Events
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Event deleted successfully

  /events/{id}/subscribe:
    post:
      summary: Subscribe to an event
      tags:
        - Events
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successfully subscribed to the event
          content:
            application/json:
              example:
                id: "25fe0a78-08f4-4348-a872-a1b6a6b57783"
                name: "Updated Event"
                startDate: "2025-07-15T10:00:00.000Z"
                endDate: "2025-07-15T14:00:00.000Z"
                createdDate: "2025-06-18T12:50:40.969Z"
                updatedDate: "2025-06-18T12:56:31.560Z"
                place: "123 Boulevard Voltaire"
                maxNumberOfParticipants: 30
                description: "New event description"
                author:
                  id: "1"
                  firstname: "Johnny"
                  lastname: "Doe"
                  email: "user@example.com"
                  password: "$2b$10$u71m0c00UZBL5u9gnaaE5umWCatSON2tj.TJVh6Vtdd0SbVYFvYdu"
                  dateOfBirth: "2000-12-09T23:00:00.000Z"
                  profilePicture: ""
                  points: 0
                  role: "admin"
                  permissions: []
                participantsList:
                  - id: "1"
                    firstname: "Johnny"
                    lastname: "Doe"
                    email: "user@example.com"
                    password: "$2b$10$u71m0c00UZBL5u9gnaaE5umWCatSON2tj.TJVh6Vtdd0SbVYFvYdu"
                    dateOfBirth: "2000-12-09T23:00:00.000Z"
                    profilePicture: ""
                    points: 0
                    role: "admin"
                    permissions: []

    delete:
      summary: Unsubscribe from an event
      tags:
        - Events
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successfully unsubscribed from the event
          content:
            application/json:
              example:
                id: "25fe0a78-08f4-4348-a872-a1b6a6b57783"
                name: "Updated Event"
                startDate: "2025-07-15T10:00:00.000Z"
                endDate: "2025-07-15T14:00:00.000Z"
                createdDate: "2025-06-18T12:50:40.969Z"
                updatedDate: "2025-06-18T12:56:31.560Z"
                place: "123 Boulevard Voltaire"
                maxNumberOfParticipants: 30
                description: "New event description"
                author:
                  id: "1"
                  firstname: "Johnny"
                  lastname: "Doe"
                  email: "user@example.com"
                  password: "$2b$10$u71m0c00UZBL5u9gnaaE5umWCatSON2tj.TJVh6Vtdd0SbVYFvYdu"
                  dateOfBirth: "2000-12-09T23:00:00.000Z"
                  profilePicture: ""
                  points: 0
                  role: "admin"
                  permissions: []
                participantsList: []

  /events/{id}/participants/{userId}:
    delete:
      summary: Remove a participant from an event
      tags:
        - Events
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
        - name: userId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Participant successfully removed from the event
          content:
            application/json:
              example:
                id: "25fe0a78-08f4-4348-a872-a1b6a6b57783"
                name: "Updated Event"
                startDate: "2025-07-15T10:00:00.000Z"
                endDate: "2025-07-15T14:00:00.000Z"
                createdDate: "2025-06-18T12:50:40.969Z"
                updatedDate: "2025-06-18T12:56:31.560Z"
                place: "123 Boulevard Voltaire"
                maxNumberOfParticipants: 30
                description: "New event description"
                author:
                  id: "1"
                  firstname: "Johnny"
                  lastname: "Doe"
                  email: "user@example.com"
                  password: "$2b$10$u71m0c00UZBL5u9gnaaE5umWCatSON2tj.TJVh6Vtdd0SbVYFvYdu"
                  dateOfBirth: "2000-12-09T23:00:00.000Z"
                  profilePicture: ""
                  points: 0
                  role: "admin"
                  permissions: []
                participantsList: []
